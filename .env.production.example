# =============================================================================
# CAFEelevate Production Environment Configuration
# =============================================================================
# 
# IMPORTANT: This is a template file. Copy to .env.production (or .env) and fill in all values.
# DO NOT commit .env files with real secrets to version control!
#
# Generate secrets with: openssl rand -hex 32
# Or use the provided script: ./scripts/generate-secrets.sh
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED: Application
# -----------------------------------------------------------------------------
NODE_ENV="production"

# -----------------------------------------------------------------------------
# REQUIRED: Database (PostgreSQL)
# -----------------------------------------------------------------------------
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL="postgresql://<DB_USER>:<DB_PASSWORD>@<DB_HOST>:5432/<DB_NAME>"

# -----------------------------------------------------------------------------
# REQUIRED: Redis
# -----------------------------------------------------------------------------
# Format: redis://[:PASSWORD@]HOST:PORT
REDIS_URL="redis://<REDIS_HOST>:6379"

# -----------------------------------------------------------------------------
# REQUIRED: JWT Secrets (MUST be unique, min 32 characters)
# Generate with: openssl rand -hex 32 or ./scripts/generate-secrets.sh
# -----------------------------------------------------------------------------
JWT_SECRET="<GENERATE_SECRET>"
JWT_REFRESH_SECRET="<GENERATE_SECRET>"
JWT_ACCESS_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"

# -----------------------------------------------------------------------------
# REQUIRED: API Configuration
# -----------------------------------------------------------------------------
API_PORT=3001
API_PREFIX="api/v1"

# -----------------------------------------------------------------------------
# REQUIRED: CORS & Frontend URLs
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
CORS_ORIGINS="https://your-domain.com,https://www.your-domain.com"
WEB_URL="https://your-domain.com"
BOOKING_URL="https://booking.your-domain.com"

# -----------------------------------------------------------------------------
# OPTIONAL: Email (SendGrid)
# Required for reservation confirmations, password reset, etc.
# -----------------------------------------------------------------------------
SENDGRID_API_KEY=""
SENDGRID_FROM_EMAIL="noreply@your-domain.com"
SENDGRID_FROM_NAME="buzcupz"

# -----------------------------------------------------------------------------
# OPTIONAL: SMS (Twilio)
# Required for SMS notifications
# -----------------------------------------------------------------------------
TWILIO_ACCOUNT_SID=""
TWILIO_AUTH_TOKEN=""
TWILIO_PHONE_NUMBER=""

# -----------------------------------------------------------------------------
# OPTIONAL: File Storage
# Choose one: local, s3, or supabase
# -----------------------------------------------------------------------------
STORAGE_PROVIDER="s3"

# S3/MinIO Configuration
S3_ENDPOINT="https://s3.amazonaws.com"
S3_BUCKET="your-bucket-name"
S3_ACCESS_KEY=""
S3_SECRET_KEY=""
S3_REGION="us-east-1"

# OR Supabase Configuration
# STORAGE_PROVIDER="supabase"
# SUPABASE_URL=""
# SUPABASE_SERVICE_KEY=""
# SUPABASE_STORAGE_BUCKET=""

# -----------------------------------------------------------------------------
# OPTIONAL: Error Tracking (Sentry)
# Highly recommended for production
# -----------------------------------------------------------------------------
SENTRY_DSN=""

# -----------------------------------------------------------------------------
# OPTIONAL: Rate Limiting
# -----------------------------------------------------------------------------
THROTTLE_TTL=60000
THROTTLE_LIMIT=100
THROTTLE_SKIP_IPS=""

# -----------------------------------------------------------------------------
# OPTIONAL: Trusted Proxies
# Set to your load balancer/reverse proxy IPs
# -----------------------------------------------------------------------------
TRUSTED_PROXIES="127.0.0.1"

# -----------------------------------------------------------------------------
# OPTIONAL: Logging
# -----------------------------------------------------------------------------
LOG_LEVEL="log"

# =============================================================================
# DOCKER COMPOSE VARIABLES (used by docker-compose.prod.yml)
# =============================================================================

# Database credentials for Docker
DB_USER="cafeelevate"
DB_PASSWORD="<GENERATE_SECURE_PASSWORD>"
DB_NAME="cafeelevate"

# Domain for TLS certificates
DOMAIN="your-domain.com"
ACME_EMAIL="admin@your-domain.com"
